<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>使用 DevContainers 愉快地进行容器开发 | ZeroZawa</title><meta name="author" content="zerozawa"><meta name="copyright" content="zerozawa"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="DevContainers 的使用心得，环境为 NixOS 23.05，VSCode 1.78.2, Docker 20.10.23"><meta property="og:type" content="article"><meta property="og:title" content="使用 DevContainers 愉快地进行容器开发"><meta property="og:url" content="http://www.zerozawa.top/2023/%E4%BD%BF%E7%94%A8-devcontainers-%E6%84%89%E5%BF%AB%E5%9C%B0%E8%BF%9B%E8%A1%8C%E5%AE%B9%E5%99%A8%E5%BC%80%E5%8F%91/"><meta property="og:site_name" content="ZeroZawa"><meta property="og:description" content="DevContainers 的使用心得，环境为 NixOS 23.05，VSCode 1.78.2, Docker 20.10.23"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/lz37/lz37.github.io@main/img/pixiv/30837811_97608845_p0_%E3%83%92%E3%83%88%E3%81%93%E3%82%82%E3%82%8B_%E8%90%BD%E8%8A%B1.png"><meta property="article:published_time" content="2023-07-28T17:34:07.000Z"><meta property="article:modified_time" content="2023-07-28T17:34:07.000Z"><meta property="article:author" content="zerozawa"><meta property="article:tag" content="VSCode"><meta property="article:tag" content="DevContainers"><meta property="article:tag" content="docker"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/lz37/lz37.github.io@main/img/pixiv/30837811_97608845_p0_%E3%83%92%E3%83%88%E3%81%93%E3%82%82%E3%82%8B_%E8%90%BD%E8%8A%B1.png"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="http://www.zerozawa.top/2023/%E4%BD%BF%E7%94%A8-devcontainers-%E6%84%89%E5%BF%AB%E5%9C%B0%E8%BF%9B%E8%A1%8C%E5%AE%B9%E5%99%A8%E5%BC%80%E5%8F%91/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="manifest" href="/site.webmanifest"><link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png"><link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#5bbad5"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!0,top_n_per_article:-1,unescape:!0,languages:{hits_empty:"找不到您查询的内容：${query}",hits_stats:"共找到 ${hits} 篇文章"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"簡"},noticeOutdate:{limitDay:365,position:"top",messagePrev:"It has been",messageNext:"days since the last update, the content of the article may be outdated."},highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:200},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:{chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#a78381",bgDark:"#1f1f1f",position:"bottom-left"},source:{justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js",css:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css"}},isPhotoFigcaption:!0,islazyload:!1,isAnchor:!1,percent:{toc:!0,rightside:!0}}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"使用 DevContainers 愉快地进行容器开发",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2023-07-29 01:34:07"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,a){0!==a&&(a=864e5*a,t={value:t,expiry:(new Date).getTime()+a},localStorage.setItem(e,JSON.stringify(t)))},get:function(e){var t=localStorage.getItem(e);if(t){t=JSON.parse(t);if(!((new Date).getTime()>t.expiry))return t.value;localStorage.removeItem(e)}}},e.getScript=o=>new Promise((t,e)=>{const a=document.createElement("script");a.src=o,a.async=!0,a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.getCSS=(o,n=!1)=>new Promise((t,e)=>{const a=document.createElement("link");a.rel="stylesheet",a.href=o,n&&(a.id=n),a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};e=saveToLocal.get("theme"),"dark"===e?activateDarkMode():"light"===e&&activateLightMode(),e=saveToLocal.get("aside-status");void 0!==e&&("hide"===e?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>const preloader={endLoading:()=>{document.body.style.overflow="",document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.body.style.overflow="hidden",document.getElementById("loading-box").classList.remove("loaded")}};preloader.initLoading(),window.addEventListener("load",()=>{preloader.endLoading()}),document.addEventListener("pjax:send",()=>{preloader.initLoading()}),document.addEventListener("pjax:complete",()=>{preloader.endLoading()})</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://cdn.jsdelivr.net/gh/lz37/lz37.github.io@main/img/pixiv/30837811_90929970_p0_ヒトこもる_無題.jpg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">20</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">35</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 画廊</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://cdn.jsdelivr.net/gh/lz37/lz37.github.io@main/img/pixiv/30837811_97608845_p0_ヒトこもる_落花.png)"><nav id="nav"><span id="blog-info"><a href="/" title="ZeroZawa"><img class="site-icon" src="/favicon.ico"><span class="site-name">ZeroZawa</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 画廊</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">使用 DevContainers 愉快地进行容器开发</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-07-28T17:34:07.000Z" title="发表于 2023-07-29 01:34:07">2023-07-29</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-07-28T17:34:07.000Z" title="更新于 2023-07-29 01:34:07">2023-07-29</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/tech/">tech</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">1.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>7分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="使用 DevContainers 愉快地进行容器开发"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/2023/%E4%BD%BF%E7%94%A8-devcontainers-%E6%84%89%E5%BF%AB%E5%9C%B0%E8%BF%9B%E8%A1%8C%E5%AE%B9%E5%99%A8%E5%BC%80%E5%8F%91/#post-comment"><span class="gitalk-comment-count"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>！<strong>注意</strong>：本文初次写于 <code>2023.07.29</code> 此时 NixOS 上 docker 版本因由于升级到 go1.20.6，导致 devcontainer 无法正常工作，解决方法为降级 docker 。</p><p><em>参考 <a target="_blank" rel="noopener" href="https://github.com/NixOS/nixpkgs/issues/244159#issuecomment-1640353626">Docker fails to run containers#Quickfix</a></em></p><p>docker 程序正常的用户可以跳过上一步。</p><h2 id="起因"><a class="header-anchor" href="#起因"></a>起因</h2><p>因为滚挂了 Manjaro，同时 Arch 在安装后因为 zen 内核的原因无法正常使用 Wifi（非 Arch 原因，NixOS 安装 zen 内核也有该问题），所以萌生了润到一个更加稳定的发行版，Gentoo 和 NixOS 都久仰大名，但是 Gentoo 的安装过程太过繁琐，而我想要尽早安装好完事，于是便选择了 NixOS.</p><p>总体使用下来，NixOS 不愧于又新又稳，除了 docker 因为其官方的问题存有 Bug 以外，其他方面的完美程度可以说达到了 90%，几乎就是我理想中的发行版。</p><p>比如，在 Ubuntu 或者 Manjaro 上，Waydroid 的多窗口模式几乎是依托答辩（以前是这样的，所以我基本就不用多窗口模式了），只要来回切换一次之后，多窗口的标题栏和窗口主题就要分离了，而在 NixOS 上就来回随便切，不怕崩。</p><p>又比如，Arch 或者说 Manjaro 上的 Jellyfin Media Player 无法正常连接到服务器，只有 flatpak 下的才可以正常使用，而 NixOS 上的 Jellyfin Media Player 就可以流畅使用。</p><p>还有，当我发现 docker 有问题的时候，可以手动将 NixOS 回退一个大版本（指的是 23.05 上的一个大版本，不是 23 回退到 22），往回滚都能不挂，这样的事 Arch 做得到吗.jgp?（说实话，我的 Manjaro 就是因为从 unstable 往 stable 回滚的时候滚挂了一片）</p><p>只可惜，它不支持 FHS、也无法正常支持 POSIX.</p><p>不支持 FHS 就导致很多开源软件在 NixOS 这里就失去了功能，除非等大佬或者官方适配（还有自己动手），GUI 应用倒还好，但命令行应用诸如 nvm 就无法正常工作，因为这一类 xxx version manager 需要 POSIX 支持。虽然 NixOS 下的 home-manager 确实可以作为一种替代，但 nvm、sdkman、goenv 啥的用了这么久总有路径依赖的问题，而且每次切版本号都要修改配置文件，实在是太麻烦了。</p><p>不过好在还有 docker，使用 docker 起一个支持 FHS 的发行版，可以较为轻松地解决这个问题（优不优雅另说😋</p><h2 id="Visual-Studio-Code-Dev-Containers"><a class="header-anchor" href="#Visual-Studio-Code-Dev-Containers"></a>Visual Studio Code Dev Containers</h2><p>The <strong>Dev Containers</strong> extension lets you use a <a target="_blank" rel="noopener" href="https://www.docker.com/">Docker container</a> as a full-featured development environment. Whether you deploy to containers or not, containers make a great development environment because you can:</p><ul><li>Develop with a consistent, easily reproducible toolchain on the same operating system you deploy to.</li><li>Quickly swap between different, separate development environments and safely make updates without worrying about impacting your local machine.</li><li>Make it easy for new team members / contributors to get up and running in a consistent development environment.</li><li>Try out new technologies or clone a copy of a code base without impacting your local setup.</li><li>The extension starts (or attaches to) a development container running a well defined tool and runtime stack. Workspace files can be mounted into the container from the local file system, or copied or cloned into it once the container is running. Extensions are installed and run inside the container where they have full access to the tools, platform, and file system.</li></ul><p>You then work with VS Code as if everything were running locally on your machine, except now they are separated inside a container.</p><p><em>以上内容复制自<a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers">官网</a></em></p><p>其主要功能就是利用 json + dockerfile 或 docker-compose.yaml(后两个可以都没有) 来构建一个容器，然后在容器内远程运行 VSCode，这样就可以在容器内进行开发，而不用担心环境问题。</p><p>这样一来，<s>就可以享受到容器里的 FHS 了</s>(bushi</p><p>这样一来，单独一个项目便可以自成一个环境，而且此环境还可以使用 git 进行备份，共享给团队里的其他人，真正做到了项目级别的环境同步。</p><h2 id="使用"><a class="header-anchor" href="#使用"></a>使用</h2><h3 id="安装"><a class="header-anchor" href="#安装"></a>安装</h3><h4 id="官方模板"><a class="header-anchor" href="#官方模板"></a>官方模板</h4><p>可以按下 <code>F1</code> 输入 <code>Dev Container: Try a Dev Container Sample...</code> 来尝试官方提供的模板，先试用下，但这里的模板不太好用于实际开发，因为本地的项目没有和他们进行绑定。</p><h4 id="官方模板（进阶）"><a class="header-anchor" href="#官方模板（进阶）"></a>官方模板（进阶）</h4><p>按下 <code>F1</code> 输入 <code>Dev Container: Add Dev Container Configuration Files...</code> 从官方给的项目中进行组合，适配到自己当前的项目环境。</p><p>组合一般是基础系统（单选）+ 软件包（多选）+ 各个软件包配置三个阶段进行排列组合，注意软件包和软件包之间可能存在冲突，比如 <code>Nodejs</code> 和 <code>zsh</code>，所以在选择安装的软件包的时候不要贪心，能够覆盖到当前项目要用到的就行。</p><p>最后应该会在项目当前的目录下生成一个 <code>.devcontainer</code> 文件夹，里面包含了 <code>devcontainer.json</code> 文件。</p><p>比如我使用 <code>Debian</code> + <code>Nodejs</code> 两者进行组合，最后生成的 <code>devcontainer.json</code> 文件如下：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// For format details, see https://aka.ms/devcontainer.json. For config options, see the</span></span><br><span class="line"><span class="comment">// README at: https://github.com/devcontainers/templates/tree/main/src/debian</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Debian&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">// Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile</span></span><br><span class="line">  <span class="attr">&quot;image&quot;</span><span class="punctuation">:</span> <span class="string">&quot;mcr.microsoft.com/devcontainers/base:bullseye&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;features&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;ghcr.io/devcontainers/features/node:1&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;nodeGypDependencies&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lts&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Features to add to the dev container. More info: https://containers.dev/features.</span></span><br><span class="line">  <span class="comment">// &quot;features&quot;: &#123;&#125;,</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Use &#x27;forwardPorts&#x27; to make a list of ports inside the container available locally.</span></span><br><span class="line">  <span class="comment">// &quot;forwardPorts&quot;: [],</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Configure tool-specific properties.</span></span><br><span class="line">  <span class="comment">// &quot;customizations&quot;: &#123;&#125;,</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root.</span></span><br><span class="line">  <span class="comment">// &quot;remoteUser&quot;: &quot;root&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="自定义"><a class="header-anchor" href="#自定义"></a>自定义</h4><p>没搞 dockerfile 和 docker-compose 啥啥啥的，以后再说吧。。。</p><h3 id="配置"><a class="header-anchor" href="#配置"></a>配置</h3><h4 id="代理"><a class="header-anchor" href="#代理"></a>代理</h4><p>如果要想开发容器的内部使用主机代理的话，可以进行如下配置：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;runArgs&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;--network=host&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;containerEnv&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;HTTP_PROXY&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://127.0.0.1:7890&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;HTTPS_PROXY&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://127.0.0.1:7890&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>简单来说就是让容器以 host 网络模式跑起来，这样就可以通过 127.0.0.1 访问到主机了，从而可以连接到主机的代理端口。</p><h4 id="挂载"><a class="header-anchor" href="#挂载"></a>挂载</h4><p>挂载分为两个格式：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;mounts&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="comment">// 对象格式</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;source&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;localEnv:HOME&#125;/.ssh&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/home/vscode/.ssh&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;bind&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;source&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;localEnv:HOME&#125;/.wakatime.cfg&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/home/vscode/.wakatime.cfg&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;bind&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;source&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;localEnv:HOME&#125;/.config/git/config&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/home/vscode/.gitconfig&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;bind&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;source&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;localEnv:HOME&#125;/.local/share/pnpm/store/v3&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/workspaces/lz37.github.io/.pnpm-store/v3&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;bind&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// 字符串格式</span></span><br><span class="line">    <span class="string">&quot;source=$&#123;localEnv:HOME&#125;/.ssh,target=/home/vscode/.ssh,type=bind,consistency=cached&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;source=$&#123;localEnv:HOME&#125;/.wakatime.cfg,target=/home/vscode/.wakatime.cfg,type=bind,consistency=cached&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;source=$&#123;localEnv:HOME&#125;/.config/git/config,target=/home/vscode/.gitconfig,type=bind,consistency=cached&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;source=$&#123;localEnv:HOME&#125;/.local/share/pnpm/store/v3,target=/workspaces/lz37.github.io/.pnpm-store/v3,type=bind,consistency=cached&quot;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>对象格式和字符串格式都是可以的，一般建议需要挂载 <code>.gitconfig</code> 和 <code>.ssh</code> 注意 <code>.gitconfig</code> 里有无引用到外部程序路径，开发容器里可能是没有的。</p><p>用到什么包管理的话建议把包管理的缓存目录也挂载进去，这样可以加快包的安装速度。</p><p>以上就是 vscode <code>DevContainers</code> 插件的使用心得，希望对你有所帮助 😘</p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://www.zerozawa.top">zerozawa</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://www.zerozawa.top/2023/%E4%BD%BF%E7%94%A8-devcontainers-%E6%84%89%E5%BF%AB%E5%9C%B0%E8%BF%9B%E8%A1%8C%E5%AE%B9%E5%99%A8%E5%BC%80%E5%8F%91/">http://www.zerozawa.top/2023/使用-devcontainers-愉快地进行容器开发/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://www.zerozawa.top" target="_blank">ZeroZawa</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/VSCode/">VSCode</a><a class="post-meta__tags" href="/tags/DevContainers/">DevContainers</a><a class="post-meta__tags" href="/tags/docker/">docker</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/lz37/lz37.github.io@main/img/pixiv/30837811_97608845_p0_ヒトこもる_落花.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2023/%E4%BD%BF%E7%94%A8-gitalk-%E5%BC%80%E9%80%9A-hexo-%E8%AF%84%E8%AE%BA/" title="使用 Gitalk 开通 Hexo 评论"><img class="cover" src="https://cdn.jsdelivr.net/gh/lz37/lz37.github.io@main/img/pixiv/30837811_94573417_p0_ヒトこもる_祭花.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">使用 Gitalk 开通 Hexo 评论</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/vscode%E6%B7%BB%E5%8A%A0%E5%AF%B9markdown%E6%89%A9%E5%B1%95%E8%AF%AD%E6%B3%95%E7%9A%84%E6%94%AF%E6%8C%81/" title="VSCode添加对markdown扩展语法的支持"><img class="cover" src="https://cdn.jsdelivr.net/gh/lz37/lz37.github.io@main/img/pixiv/30837811_97608845_p0_ヒトこもる_落花.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-25</div><div class="title">VSCode添加对markdown扩展语法的支持</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://cdn.jsdelivr.net/gh/lz37/lz37.github.io@main/img/pixiv/30837811_90929970_p0_ヒトこもる_無題.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">zerozawa</div><div class="author-info__description">author of noveler</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">20</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">35</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/lz37"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/lz37" target="_blank" title="Github"><i class="fab fa-github" style="color:#24292e"></i></a><a class="social-icon" href="mailto:zekaixie37@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color:#a78381"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B5%B7%E5%9B%A0"><span class="toc-text">起因</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Visual-Studio-Code-Dev-Containers"><span class="toc-text">Visual Studio Code Dev Containers</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-text">使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-text">安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%98%E6%96%B9%E6%A8%A1%E6%9D%BF"><span class="toc-text">官方模板</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%98%E6%96%B9%E6%A8%A1%E6%9D%BF%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89"><span class="toc-text">官方模板（进阶）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89"><span class="toc-text">自定义</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE"><span class="toc-text">配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%90%86"><span class="toc-text">代理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%82%E8%BD%BD"><span class="toc-text">挂载</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/%E4%BD%BF%E7%94%A8-devcontainers-%E6%84%89%E5%BF%AB%E5%9C%B0%E8%BF%9B%E8%A1%8C%E5%AE%B9%E5%99%A8%E5%BC%80%E5%8F%91/" title="使用 DevContainers 愉快地进行容器开发"><img src="https://cdn.jsdelivr.net/gh/lz37/lz37.github.io@main/img/pixiv/30837811_97608845_p0_ヒトこもる_落花.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="使用 DevContainers 愉快地进行容器开发"></a><div class="content"><a class="title" href="/2023/%E4%BD%BF%E7%94%A8-devcontainers-%E6%84%89%E5%BF%AB%E5%9C%B0%E8%BF%9B%E8%A1%8C%E5%AE%B9%E5%99%A8%E5%BC%80%E5%8F%91/" title="使用 DevContainers 愉快地进行容器开发">使用 DevContainers 愉快地进行容器开发</a><time datetime="2023-07-28T17:34:07.000Z" title="更新于 2023-07-29 01:34:07">2023-07-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/hexo%E6%9E%84%E5%BB%BA%E4%B8%8E%E9%83%A8%E7%BD%B2/" title="Hexo构建与部署"><img src="https://cdn.jsdelivr.net/gh/lz37/lz37.github.io@main/img/pixiv/30837811_97608845_p0_ヒトこもる_落花.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Hexo构建与部署"></a><div class="content"><a class="title" href="/2023/hexo%E6%9E%84%E5%BB%BA%E4%B8%8E%E9%83%A8%E7%BD%B2/" title="Hexo构建与部署">Hexo构建与部署</a><time datetime="2023-07-07T03:01:36.000Z" title="更新于 2023-07-07 11:01:36">2023-07-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/vscode%E6%B7%BB%E5%8A%A0%E5%AF%B9markdown%E6%89%A9%E5%B1%95%E8%AF%AD%E6%B3%95%E7%9A%84%E6%94%AF%E6%8C%81/" title="VSCode添加对markdown扩展语法的支持"><img src="https://cdn.jsdelivr.net/gh/lz37/lz37.github.io@main/img/pixiv/30837811_97608845_p0_ヒトこもる_落花.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="VSCode添加对markdown扩展语法的支持"></a><div class="content"><a class="title" href="/2023/vscode%E6%B7%BB%E5%8A%A0%E5%AF%B9markdown%E6%89%A9%E5%B1%95%E8%AF%AD%E6%B3%95%E7%9A%84%E6%94%AF%E6%8C%81/" title="VSCode添加对markdown扩展语法的支持">VSCode添加对markdown扩展语法的支持</a><time datetime="2023-07-07T03:01:36.000Z" title="更新于 2023-07-07 11:01:36">2023-07-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/%E4%BD%BF%E7%94%A8-gitalk-%E5%BC%80%E9%80%9A-hexo-%E8%AF%84%E8%AE%BA/" title="使用 Gitalk 开通 Hexo 评论"><img src="https://cdn.jsdelivr.net/gh/lz37/lz37.github.io@main/img/pixiv/30837811_94573417_p0_ヒトこもる_祭花.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="使用 Gitalk 开通 Hexo 评论"></a><div class="content"><a class="title" href="/2023/%E4%BD%BF%E7%94%A8-gitalk-%E5%BC%80%E9%80%9A-hexo-%E8%AF%84%E8%AE%BA/" title="使用 Gitalk 开通 Hexo 评论">使用 Gitalk 开通 Hexo 评论</a><time datetime="2023-04-29T15:20:59.000Z" title="更新于 2023-04-29 23:20:59">2023-04-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/%E5%88%A9%E7%94%A8-docker-%E9%83%A8%E7%BD%B2%E4%BA%91%E6%89%8B%E6%9C%BA%E5%92%8C%E7%A2%A7%E8%93%9D%E8%88%AA%E7%BA%BF%E8%84%9A%E6%9C%AC/" title="利用 Docker 部署云手机和碧蓝航线脚本"><img src="https://cdn.jsdelivr.net/gh/lz37/lz37.github.io@main/img/pixiv/30837811_89532340_p0_ヒトこもる_🌒.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="利用 Docker 部署云手机和碧蓝航线脚本"></a><div class="content"><a class="title" href="/2023/%E5%88%A9%E7%94%A8-docker-%E9%83%A8%E7%BD%B2%E4%BA%91%E6%89%8B%E6%9C%BA%E5%92%8C%E7%A2%A7%E8%93%9D%E8%88%AA%E7%BA%BF%E8%84%9A%E6%9C%AC/" title="利用 Docker 部署云手机和碧蓝航线脚本">利用 Docker 部署云手机和碧蓝航线脚本</a><time datetime="2023-04-28T03:00:04.000Z" title="更新于 2023-04-28 11:00:04">2023-04-28</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url(https://cdn.jsdelivr.net/gh/lz37/lz37.github.io@master/source/img/pixiv/2179695_86142125_p0_羽々斬_自機の人たち.png)"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By zerozawa</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">苏ICP备20230222124号-1</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex/dist/contrib/copy-tex.min.js"></script><script>document.querySelectorAll("#article-container span.katex-display").forEach(a=>{btf.wrap(a,"div",{class:"katex-wrap"})})</script><script>(()=>{const e=document.querySelectorAll("#article-container .mermaid-wrap");var t;e.length&&(window.runMermaid=()=>{window.loadMermaid=!0;const n="dark"===document.documentElement.getAttribute("data-theme")?"dark":"default";Array.from(e).forEach((e,t)=>{const d=e.firstElementChild;e="%%{init:{ 'theme':'"+n+"'}}%%\n"+d.textContent;mermaid.mermaidAPI.render("mermaid-"+t,e,e=>{d.insertAdjacentHTML("afterend",e)})})},t=()=>{window.loadMermaid?runMermaid():getScript("https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js").then(runMermaid)},window.pjax?t():document.addEventListener("DOMContentLoaded",t))})()</script><script>function loadGitalk(){function t(){new Gitalk(Object.assign({clientID:"53077ce62141595ccce5",clientSecret:"d7cfa4d9ec66065a9882082f3e445db94b6755ea",repo:"lz37.github.io",owner:"lz37",admin:["lz37"],id:"10192b6b006b284d35b1e2ca86e244d5",updateCountCallback:commentCount},null)).render("gitalk-container")}"function"==typeof Gitalk?t():(getCSS("https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"),getScript("https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js").then(t))}function commentCount(t){var n=document.querySelector("#post-meta .gitalk-comment-count");n&&(n.innerHTML=t)}function loadOtherComment(){loadGitalk()}loadGitalk()</script></div><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors=["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",function(){if(window.tocScrollFn&&window.removeEventListener("scroll",window.tocScrollFn),window.scrollCollect&&window.removeEventListener("scroll",scrollCollect),document.getElementById("rightside").style.cssText="opacity: ''; transform: ''",window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();var e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode"),"object"==typeof disqusjs&&disqusjs.destroy()}),document.addEventListener("pjax:complete",function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script");var o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)}),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof chatBtnFn&&chatBtnFn(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll()}),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> 数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>